<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Home | Kekkotech</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      background-color: #000;
      color: #0f0;
      font-family: Consolas, monospace;
      font-size: 16px;
    }

    .terminal {
      max-width: 800px;
      margin: auto;
      border: 1px solid #0f0;
      padding: 20px;
      box-shadow: 0 0 10px #0f0;
    }

    .input-line::before {
      content: "$ ";
      color: #0f0;
    }

    a {
      color: #0ff;
      text-decoration: none;
      cursor: pointer;
    }

    a:hover {
      text-decoration: underline;
    }

    .typed {
      white-space: pre;
      overflow: hidden;
      border-right: .15em solid #0f0;
      animation: blink-caret 0.75s step-end infinite;
    }

    @keyframes blink-caret {
      from, to { border-color: transparent }
      50% { border-color: #0f0; }
    }
  </style>
</head>
<body>
  <div class="terminal" id="terminal"></div>

  <script>
    const sections = {
      help: [
        '<a href="#" data-section="about">[about]</a> <a href="#" data-section="projects">[projects]</a> <a href="#" data-section="contact">[contact]</a>'
      ],
      about: [
        "Questo sito è stato progettato per sembrare un terminale.",
        "Lo stile minimale riflette la mia passione per la programmazione."
      ],
      projects: [
        "- Progetto 1: downloads.kekkotech.com",
        "- Progetto 2: downloads.kekkotech.com"
      ],
      contact: [
        "Email: matteo@example.com",
        "Instagram: instagram.com/matteo.checcaccit"
      ]
    };

    const initialLines = [
      "Benvenuto su kekkotech.com!",
      "Il mio nome è Matteo.",
      "Sono uno studente di ingegneria informatica presso il Politecnico di Milano.",
      "Digita help per vedere i comandi disponibili.",
      ""
    ];

    const terminal = document.getElementById("terminal");

    let lineIndex = 0;
    let charIndex = 0;
    let typingLine = document.createElement("div");
    typingLine.classList.add("input-line", "typed");
    terminal.appendChild(typingLine);

    function typeLines(lines, callback) {
      function type() {
        if (lineIndex < lines.length) {
          if (charIndex < lines[lineIndex].length) {
            typingLine.innerHTML += lines[lineIndex].charAt(charIndex);
            charIndex++;
            setTimeout(type, 30);
          } else {
            typingLine.classList.remove("typed");
            typingLine = document.createElement("div");
            typingLine.classList.add("input-line", "typed");
            terminal.appendChild(typingLine);
            charIndex = 0;
            lineIndex++;
            setTimeout(type, 300);
          }
        } else {
          typingLine.classList.remove("typed");
          callback && callback();
        }
      }
      type();
    }

    function addCommandLine(text) {
      const line = document.createElement("div");
      line.classList.add("input-line");
      line.textContent = "$ " + text;
      terminal.appendChild(line);
    }

    function showSection(section) {
      addCommandLine(section);
      sections[section].forEach(line => {
        const output = document.createElement("div");
        output.classList.add("input-line");
        output.innerHTML = line;
        terminal.appendChild(output);
      });
      terminal.scrollTop = terminal.scrollHeight;
    }

    terminal.addEventListener("click", function(e) {
      if (e.target.matches("a[data-section]")) {
        e.preventDefault();
        const section = e.target.getAttribute("data-section");
        if (sections[section]) showSection(section);
      }
    });

    typeLines(initialLines, () => {
      showSection("help");
    });
  </script>
</body>
</html>
